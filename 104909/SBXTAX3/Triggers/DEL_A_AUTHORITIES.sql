CREATE OR REPLACE TRIGGER sbxtax3."DEL_A_AUTHORITIES" 
BEFORE DELETE ON sbxtax3.TB_AUTHORITIES 
REFERENCING OLD AS OLD NEW AS NEW 
FOR EACH ROW 
BEGIN
  INSERT INTO A_AUTHORITIES (
    AUTHORITY_ID_O,
    PRODUCT_GROUP_ID_O,
    NAME_O,
    UUID_O,
    INVOICE_DESCRIPTION_O,
    DESCRIPTION_O,
    MERCHANT_ID_O,
    REGION_CODE_O,
    REGISTRATION_MASK_O,
    SIMPLE_REGISTRATION_MASK_O,
    CREATED_BY_O,
    CREATION_DATE_O,
    LAST_UPDATED_BY_O,
    LAST_UPDATE_DATE_O,
    --SYNCHRONIZATION_TIMESTAMP_O,
    ADMIN_ZONE_LEVEL_ID_O,
    EFFECTIVE_ZONE_LEVEL_ID_O,
    AUTHORITY_TYPE_ID_O,
    LOCATION_CODE_O,
    DISTANCE_SALES_THRESHOLD_O,
    IS_TEMPLATE_O,
    IS_CUSTOM_AUTHORITY_O,
    ERP_TAX_CODE_O,
    CONTENT_TYPE_O,
    UNIT_OF_MEASURE_CODE_O,
    OFFICIAL_NAME_O,
    AUTHORITY_CATEGORY_O,
    CHANGE_TYPE,
    --CHANGE_VERSION,
    CHANGE_DATE
  ) VALUES (
    :OLD.AUTHORITY_ID,
    :OLD.PRODUCT_GROUP_ID,
    :OLD.NAME,
    :OLD.UUID,
    :OLD.INVOICE_DESCRIPTION,
    :OLD.DESCRIPTION,
    :OLD.MERCHANT_ID,
    :OLD.REGION_CODE,
    :OLD.REGISTRATION_MASK,
    :OLD.SIMPLE_REGISTRATION_MASK,
    :OLD.CREATED_BY,
    :OLD.CREATION_DATE,
    :OLD.LAST_UPDATED_BY,
    :OLD.LAST_UPDATE_DATE,
    --:OLD.SYNCHRONIZATION_TIMESTAMP,
    :OLD.ADMIN_ZONE_LEVEL_ID,
    :OLD.EFFECTIVE_ZONE_LEVEL_ID,
    :OLD.AUTHORITY_TYPE_ID,
    :OLD.LOCATION_CODE,
    :OLD.DISTANCE_SALES_THRESHOLD,
    :OLD.IS_TEMPLATE,
    :OLD.IS_CUSTOM_AUTHORITY,
    :OLD.ERP_TAX_CODE,
    :OLD.CONTENT_TYPE,
    :OLD.UNIT_OF_MEASURE_CODE,
    :OLD.OFFICIAL_NAME,
    :OLD.AUTHORITY_CATEGORY,
    'DELETED',
    --(SELECT CONTENT_VERSION FROM TB_MERCHANTS WHERE MERCHANT_ID = :OLD.MERCHANT_ID),
    SYSDATE);
END;
/